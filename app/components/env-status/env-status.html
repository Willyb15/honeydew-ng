<div ng-attr-id="{{ EnvStatus.app }}" class="env-status table-responsive">

  <table class="table table-hover">
    <thead>
      <tr>
        <th>app</th>
        <th>env</th>
        <th>healthcheck</th>
        <th>honeydew</th>
        <th ng-if="EnvStatus.isSharecare()">kabocha</th>
      </tr>
    </thead>
    <tbody>

      <tr ng-repeat="(name, app) in EnvStatus.statuses">
        <td class="name">
          <span>{{ ::name.split(',')[0] }}</span>
        </td>
        <td class="env">
          <span>{{ ::name.split(',')[1] }}</span>
        </td>
        <td class="healthcheck dropdown">

          <div class="dropdown">
            <a ng-href="" class="dropdown-toggle" data-toggle="dropdown">
              <span class="fa fa-2x"
                    ng-class="{
                    'fa-check-circle green': app.healthcheck.summary === true,
                    'fa-times-circle red': app.healthcheck.summary === false,
                    'fa-times-circle silver': !app.hasOwnProperty('healthcheck')
                    }"
                    ></span>
            </a>
            <div class="dropdown-menu healthcheck-popover" role="menu">
              healthchecks:
              <ul>
                <li>
                  <a target="_blank" ng-href="{{ app.healthcheck.webpub.url }}">webpub</a>
                  <span class="fa"
                        ng-class="{
                        'fa-check-circle green': app.healthcheck.webpub.status === true,
                        'fa-times-circle red': app.healthcheck.webpub.status === false,
                        'fa-times-circle silver': !app.healthcheck.hasOwnProperty('webpub')
                        }"
                        ></span>
                </li>
              </ul>
            </div>
          </div>
        </td>
        <td class="honeydew">
          <a target="_blank" ng-href="{{ app.honeydew.url }}">
            <span class="fa fa-2x"
                  ng-class="{
                  'fa-check-circle green': app.honeydew.summary === true,
                  'fa-times-circle red': app.honeydew.summary === false,
                  'fa-times-circle silver': !app.honeydew.hasOwnProperty('summary')
                  }"
                  ></span>
          </a>
        </td>
        <td ng-if="EnvStatus.isSharecare()">
          <a target="_blank" ng-href="{{ app.kabocha.url }}">
            <span class="fa fa-2x"
                  ng-class="{
                  'fa-check-circle green': app.kabocha.summary === true,
                  'fa-times-circle red': app.kabocha.summary === false,
                  'fa-times-circle silver': !app.kabocha.hasOwnProperty('summary')
                  }"
                  ></span>
          </a>
        </td>
      </tr>
    </tbody>
  </table>

</div>
