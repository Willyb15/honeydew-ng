<div ng-attr-id="{{ EnvStatus.app }}" class="env-status table-responsive">

  <table class="table table-hover">
    <thead>
      <tr>
        <th>{{ EnvStatus.app }}: env</th>
        <!-- <th>branch</th> -->
        <th>healthcheck</th>
        <th>honeydew</th>
        <th ng-if="EnvStatus.isSharecare()">kabocha</th>
      </tr>
    </thead>
    <tbody>

      <tr ng-repeat-start="(name, app) in EnvStatus.statuses"
          ng-click="app.detailedView = !app.detailedView"
          class="env-row">

        <td class="env">
          <a target="_blank"
             ng-href="{{app.url}}"
             class="btn btn-default">
            <span>
              {{ ::name.split(',')[1] }}
            </span>
          </a>
        </td>

        <!-- <td class="branch">
        ({{ app.build.branch ? app.build.branch : app.build.webpub }})
        </td> -->

        <td class="healthcheck">
          <status-button status="app.healthcheck.summary"></status-button>
        </td>

        <td class="honeydew">
          <status-button status="app.honeydew.summary"></status-button>
        </td>

        <td ng-if="EnvStatus.isSharecare()">
          <status-button status="app.kabocha.summary"></status-button>
        </td>
      </tr>

      <tr class="env-status-detail-container"
          ng-if="app.detailedView"
          ng-repeat-end>
        <td env-status-detail
            name="{{ EnvStatus.app }}"
            app="app">
        </td>
      </tr>

    </tbody>
  </table>

</div>
